/*!40101 SET NAMES utf8mb4 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

/*
  创建 zblog 数据库
  COLLATE=utf8_bin; COLLATE=utf8_general_ci
  utf8_general_ci -- 不区分大小写，默认
  utf8_bin -- 区分大小写
*/
DROP DATABASE /*!32312 IF EXISTS*/ `zblog`;
CREATE DATABASE /*!32312 IF NOT EXISTS*/ `zblog` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_bin */;

USE `zblog`;

/*Table structure for table `user` */
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `ID` BIGINT UNSIGNED NOT NULL,
  `USERNAME` VARCHAR(20) NOT NULL COMMENT '用户名，可用于登录',
  `PASSWORD` VARCHAR(60) DEFAULT NULL COMMENT '登录密码',
  `USER_TYPE` TINYINT(2) NOT NULL COMMENT '用户类型: 0-系统用户;1-普通用户;2-管理员用户;3-测试用户;4-临时用户',
  `USER_STATUS` TINYINT(2) NOT NULL COMMENT '用户状态: 0-正常;1-禁用;2-锁定;3-首次登录需要修改密码',
  `NICKNAME` VARCHAR(25) NOT NULL COMMENT '昵称',
  `EMAIL` VARCHAR(100) DEFAULT NULL COMMENT '邮箱',
  `GENDER` TINYINT(2) NOT NULL DEFAULT 3 COMMENT '性别: 1-男;2-女;3-隐藏',
  `SIGNATURE` VARCHAR(100) NOT NULL DEFAULT '' COMMENT '座右铭',
  `WEBSITE` VARCHAR(250) NOT NULL DEFAULT '' COMMENT '个人网站',
  `HEAD_IMG_URL` VARCHAR(1000) NOT NULL DEFAULT '' COMMENT '头像链接',
  `LAST_LOGIN_TIME` CHAR(19) DEFAULT NULL COMMENT '最后一次登录时间',
  `LOGIN_ERROR_COUNT` TINYINT(2) DEFAULT 0 COMMENT '登录失败次数',
  `CHANGE_PWD_TIME` CHAR(19) DEFAULT NULL COMMENT '最后一次修改密码时间',
  `EXPIRED_TIME` CHAR(19) DEFAULT NULL COMMENT '临时账户的过期时间',
  `DELETED` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '是否删除',
  `CREATE_USER` BIGINT NOT NULL COMMENT '创建用户',
  `CREATE_TIME` CHAR(19) NOT NULL COMMENT '创建时间',
  `UPDATE_USER` BIGINT DEFAULT NULL COMMENT '更新用户',
  `UPDATE_TIME` CHAR(19) DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`ID`) USING BTREE,
  INDEX USER_USERNAME_INDEX (`USERNAME`),
  INDEX USER_NICKNAME_INDEX (`NICKNAME`),
  INDEX USER_EMAIL_INDEX (`EMAIL`),
  INDEX USER_USER_STATUS_INDEX (`USER_STATUS`),
  INDEX USER_DELETED_INDEX (`DELETED`)
) ENGINE=InnoDB ROW_FORMAT=DYNAMIC COMMENT='用户表';

/*Data for the table `user` */
INSERT INTO user (ID, USERNAME, `PASSWORD`, USER_TYPE, USER_STATUS, NICKNAME, EMAIL, GENDER, SIGNATURE, WEBSITE, HEAD_IMG_URL, LAST_LOGIN_TIME, LOGIN_ERROR_COUNT, CHANGE_PWD_TIME, EXPIRED_TIME, DELETED, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES
    (1, 'system', '$2a$10$S9s8OySDf1B.0HerBauT1.QnrrOzsmAOU7rTXhVJL3UY2Z02Ul6FG', 0, 1, '系统用户', NULL, 3, '', '', '', NULL, 0, NULL, NULL, 0, 1, '2025-01-01 00:00:00', NULL, NULL);
INSERT INTO user (ID, USERNAME, `PASSWORD`, USER_TYPE, USER_STATUS, NICKNAME, EMAIL, GENDER, SIGNATURE, WEBSITE, HEAD_IMG_URL, LAST_LOGIN_TIME, LOGIN_ERROR_COUNT, CHANGE_PWD_TIME, EXPIRED_TIME, DELETED, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES
    (2, 'admin', '$2a$10$S9s8OySDf1B.0HerBauT1.QnrrOzsmAOU7rTXhVJL3UY2Z02Ul6FG', 2, 0, '超级用户', 'stazxr@qq.com', 3, '', '', '', NULL, 0, NULL, NULL, 0, 1, '2025-01-01 00:00:00', NULL, NULL);
INSERT INTO user (ID, USERNAME, `PASSWORD`, USER_TYPE, USER_STATUS, NICKNAME, EMAIL, GENDER, SIGNATURE, WEBSITE, HEAD_IMG_URL, LAST_LOGIN_TIME, LOGIN_ERROR_COUNT, CHANGE_PWD_TIME, EXPIRED_TIME, DELETED, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES
    (3, 'test', '$2a$10$S9s8OySDf1B.0HerBauT1.QnrrOzsmAOU7rTXhVJL3UY2Z02Ul6FG', 3, 0, '测试用户', NULL, 3, '', '', '', NULL, 0, NULL, NULL, 0, 1, '2025-01-01 00:00:00', NULL, NULL);

/*Table structure for table `role` */
DROP TABLE IF EXISTS `role`;
CREATE TABLE `role` (
  `ID` BIGINT UNSIGNED NOT NULL COMMENT '角色编号',
  `ROLE_NAME` VARCHAR(25) NOT NULL COMMENT '角色名称',
  `ROLE_CODE` VARCHAR(25) NOT NULL COMMENT '角色编码',
  `ROLE_DESC` VARCHAR(128) NOT NULL DEFAULT '' COMMENT '角色描述',
  `ENABLED` TINYINT(1) NOT NULL DEFAULT 1 COMMENT '是否启用',
  `DELETED` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '是否删除',
  `CREATE_USER` BIGINT NOT NULL COMMENT '创建用户',
  `CREATE_TIME` VARCHAR(20) NOT NULL COMMENT '创建时间',
  `UPDATE_USER` BIGINT DEFAULT NULL COMMENT '更新用户',
  `UPDATE_TIME` VARCHAR(20) DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`ID`) USING BTREE,
  INDEX ROLE_CODE_INDEX (`ROLE_CODE`),
  INDEX ROLE_ENABLED_INDEX (`ENABLED`),
  INDEX ROLE_DELETED_INDEX (`DELETED`)
) ENGINE=INNODB ROW_FORMAT=DYNAMIC COMMENT='角色表';

/*Data for the table `role` */
INSERT INTO role (ID, ROLE_NAME, ROLE_CODE, ROLE_DESC, ENABLED, DELETED, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES 
    (3561010960472735744, '管理员', 'ROLE_ADMIN', '系统管理员', 1, 0, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO role (ID, ROLE_NAME, ROLE_CODE, ROLE_DESC, ENABLED, DELETED, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES 
    (3561010960472735745, '普通用户', 'ROLE_USER', '普通用户，无权限操作系统核心功能', 1, 0, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO role (ID, ROLE_NAME, ROLE_CODE, ROLE_DESC, ENABLED, DELETED, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES 
    (3561010960472735746, '测试用户', 'ROLE_TEST', '测试用户专用角色', 1, 0, 1, '2021-06-10 00:02:58', null, null);

/*Table structure for table `permission` */
DROP TABLE IF EXISTS `permission`;
CREATE TABLE `permission` (
  `ID` BIGINT UNSIGNED NOT NULL COMMENT '权限编号',
  `PID` BIGINT DEFAULT NULL COMMENT '上级权限编号',
  `PERM_NAME` VARCHAR(50) NOT NULL COMMENT '权限名称',
  `PERM_CODE` VARCHAR(100) DEFAULT NULL COMMENT '权限编码',
  `PERM_TYPE` TINYINT(1) NOT NULL COMMENT '权限类型: 1-目录;2-菜单;3-按钮',
  `PERM_LEVEL` TINYINT(1) NOT NULL COMMENT '权限访问级别: 1-公开权限;2-公共权限;4-受控权限',
  `COMPONENT_NAME` VARCHAR(100) DEFAULT NULL COMMENT '组件名称',
  `COMPONENT_PATH` VARCHAR(100) DEFAULT NULL COMMENT '组件路径',
  `ROUTER_PATH` VARCHAR(1000) DEFAULT NULL COMMENT '路由地址',
  `ICON` VARCHAR(1000) DEFAULT NULL COMMENT '权限图标',
  `SORT` INT(11) NOT NULL DEFAULT 99999 COMMENT '排序字段',
  `CACHEABLE` TINYINT(1) DEFAULT NULL COMMENT '是否缓存',
  `HIDDEN` TINYINT(1) DEFAULT NULL COMMENT '是否隐藏',
  `ENABLED` TINYINT(1) NOT NULL DEFAULT 1 COMMENT '是否启用',
  `DELETED` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '是否删除',
  `VERSION` INT(11) NOT NULL DEFAULT 1 COMMENT '乐观锁',
  `CREATE_USER` BIGINT NOT NULL COMMENT '创建用户',
  `CREATE_TIME` VARCHAR(20) NOT NULL COMMENT '创建时间',
  `UPDATE_USER` BIGINT DEFAULT NULL COMMENT '更新用户',
  `UPDATE_TIME` VARCHAR(20) DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`ID`) USING BTREE,
  INDEX `PERMISSION_PID_INDEX` (`PID`),
  INDEX `PERMISSION_CODE_INDEX` (`PERM_CODE`),
  INDEX `PERMISSION_DELETED_INDEX` (`DELETED`)
) ENGINE=InnoDB ROW_FORMAT=DYNAMIC COMMENT='权限表';

/*Data for the table `permission` */
-- 系统管理
INSERT INTO permission (ID, PID, PERM_NAME, PERM_CODE, PERM_TYPE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (1, null, '系统管理', null, 1, 4, null, null, 'system', 'icon-system', 1, null, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 用户管理
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366676, 1, '用户管理', 2, 'USERQ001', 4, 'User', 'admin/system/user/index', 'user', 'icon-user', 110, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366677, 3922269213095366676, '查询用户详情', 3, 'USERQ003', 4, null, null, null, null, 1101, null, null, 1, 1, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366678, 3922269213095366676, '新增用户', 3, 'USERA001', 4, null, null, null, null, 1102, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366679, 3922269213095366676, '编辑用户', 3, 'USERU001', 4, null, null, null, null, 1103, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366680, 3922269213095366676, '删除用户', 3, 'USERD001', 4, null, null, null, null, 1104, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 角色管理
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366669, 1, '角色管理', 2, 'ROLEQ001', 4, 'Role', 'admin/system/role/index', 'role', 'icon-role', 120, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366670, 3922269213095366669, '查询角色详情', 3, 'ROLEQ002', 4, null, null, null, null, 1201, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366671, 3922269213095366669, '查询角色用户列表', 3, 'ROLEQ004', 3, null, null, null, null, 1202, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366672, 3922269213095366669, '新增角色', 3, 'ROLEA001', 4, null, null, null, null, 1203, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366673, 3922269213095366669, '编辑角色', 3, 'ROLEU001', 4, null, null, null, null, 1204, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366674, 3922269213095366669, '角色授权', 3, 'ROLEU002', 4, null, null, null, null, 1205, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366675, 3922269213095366669, '删除角色', 3, 'ROLED001', 4, null, null, null, null, 1206, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 权限管理
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366659, 1, '权限管理', 2, 'PERMQ001', 4, 'Perm', 'admin/system/perm/index', 'perm', 'icon-perm', 130, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366662, 3922269213095366659, '查询权限详情', 3, 'PERMQ002', 4, null, null, null, null, 1301, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366663, 3922269213095366659, '分页查询权限接口列表', 3, 'PERMQ003', 4, null, null, null, null, 1302, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366664, 3922269213095366659, '分页查询权限角色列表', 3, 'PERMQ004', 4, null, null, null, null, 1303, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366665, 3922269213095366659, '分页查询权限日志列表', 3, 'PERMQ005', 4, null, null, null, null, 1304, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366666, 3922269213095366659, '新增权限', 3, 'PERMA001', 4, null, null, null, null, 1305, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366667, 3922269213095366659, '编辑权限', 3, 'PERMU001', 4, null, null, null, null, 1306, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366668, 3922269213095366659, '删除权限', 3, 'PERMD001', 4, null, null, null, null, 1307, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 接口管理
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366681, 1, '接口管理', 2, 'INTEQ001', 4, 'Interface', 'admin/system/interface/index', 'interface', 'icon-interface', 140, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366692, 3922269213095366681, '导出接口列表', 3, 'INTEE001', 4, null, null, null, null, 1401, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 字典管理
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366682, 1, '字典管理', 2, 'DICTQ001', 4, 'Dict', 'admin/system/dict/index', 'dict', 'icon-dict', 150, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366683, 3922269213095366682, '查询字典详情', 3, 'DICTQ003', 4, null, null, null, null, 1501, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366684, 3922269213095366682, '新增字典', 3, 'DICTA001', 4, null, null, null, null, 1502, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366685, 3922269213095366682, '编辑字典', 3, 'DICTU001', 4, null, null, null, null, 1503, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366686, 3922269213095366682, '删除字典', 3, 'DICTD001', 4, null, null, null, null, 1504, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 系统监控
INSERT INTO permission (ID, PID, PERM_NAME, PERM_CODE, PERM_TYPE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (2, null, '系统监控', null, 1, 4, null, null, 'monitor', 'icon-monitor', 2, null, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 日志管理
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366687, 2, '接口日志', 2, 'LOGIQ001', 4, 'InterfaceLog', 'admin/monitor/interfaceLog/index', 'interfaceLog', 'icon-interfaceLog', 210, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3518226751207505920, 3922269213095366687, '导出接口日志', 3, 'LOGIE001', 4, null, null, null, null, 2101, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3518226911455084544, 3922269213095366687, '删除接口日志', 3, 'LOGID001', 4, null, null, null, null, 2102, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3518227165042704384, 3922269213095366687, '查询接口日志异常堆栈', 3, 'LOGIQ002', 4, null, null, null, null, 2103, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366688, 2, '操作日志', 2, 'LOGOQ001', 4, 'OperationLog', 'admin/monitor/operationLog/index', 'operationLog', 'icon-operationLog', 220, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3518226605992312832, 3922269213095366688, '导出操作日志', 3, 'LOGOE001', 4, null, null, null, null, 2201, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3518226605992312833, 3922269213095366688, '删除操作日志', 3, 'LOGOD001', 4, null, null, null, null, 2202, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3518226605992312834, 3922269213095366688, '查询操作日志异常堆栈', 3, 'LOGOQ002', 4, null, null, null, null, 2203, null, null, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 数据监控
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366689, 2, '数据监控', 2, null, 4, 'Sql', 'admin/monitor/sql/index', 'sql', 'icon-sql', 230, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 服务监控
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366690, 2, '服务监控', 2, 'SERVQ001', 4, 'Server', 'admin/monitor/server/index', 'server', 'icon-server', 240, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 系统运维
INSERT INTO permission (ID, PID, PERM_NAME, PERM_CODE, PERM_TYPE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3, null, '系统运维', null, 1, 4, null, null, 'sysOps', 'icon-SysOps', 3, null, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);
-- 接口文档
INSERT INTO permission (ID, PID, PERM_NAME, PERM_TYPE, PERM_CODE, PERM_LEVEL, COMPONENT_NAME, COMPONENT_PATH, ROUTER_PATH, ICON, SORT, CACHEABLE, HIDDEN, ENABLED, DELETED, VERSION, CREATE_USER, CREATE_TIME, UPDATE_USER, UPDATE_TIME) VALUES (3922269213095366691, 3, '接口文档', 2, null, 4, 'Swagger', 'admin/sysOps/swagger/index', 'swagger', 'icon-swagger', 310, 1, 0, 1, 0, 1, 1, '2021-06-10 00:02:58', null, null);

/*Table structure for table `resource` */
DROP TABLE IF EXISTS `resource`;
CREATE TABLE `resource` (
  `RESOURCE_NAME` VARCHAR(100) DEFAULT NULL COMMENT '资源名称',
  `RESOURCE_URI` VARCHAR(200) NOT NULL COMMENT '资源请求地址',
  `RESOURCE_METHOD` VARCHAR(10) NOT NULL COMMENT '资源请求方式',
  `RESOURCE_CODE` VARCHAR(200) DEFAULT NULL COMMENT '资源权限编码',
  `RESOURCE_LEVEL` VARCHAR(200) NOT NULL COMMENT '资源访问等级（默认配置）',
  INDEX `RESOURCE_CODE_INDEX` (`RESOURCE_CODE`),
  UNIQUE INDEX `RESOURCE_URL_METHOD_UNI_KEY` (`RESOURCE_URI`, `RESOURCE_METHOD`)
) ENGINE=MEMORY COMMENT='资源表';

/*Table structure for table `dict` */
DROP TABLE IF EXISTS `dict`;
CREATE TABLE `dict` (
  `ID` BIGINT UNSIGNED NOT NULL COMMENT '字典编号',
  `PID` BIGINT DEFAULT NULL COMMENT '上级字典编号',
  `DICT_NAME` VARCHAR(50) NOT NULL COMMENT '字典名称',
  `DICT_TYPE` TINYINT(1) NOT NULL DEFAULT 1 COMMENT '类型: 1-组;2-项',
  `DICT_KEY` VARCHAR(50) DEFAULT NULL COMMENT '字典KEY',
  `DICT_VALUE` TEXT DEFAULT NULL COMMENT '字典VALUE',
  `DICT_SORT` INT(11) NOT NULL DEFAULT 99999 COMMENT '排序',
  `DICT_DESC` VARCHAR(100) DEFAULT NULL COMMENT '字典描述',
  `ENABLED` TINYINT(1) NOT NULL DEFAULT 1 COMMENT '是否启用',
  `DELETED` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '是否删除',
  `VERSION` INT(11) NOT NULL DEFAULT 1 COMMENT '乐观锁',
  `CREATE_USER` BIGINT NOT NULL COMMENT '创建用户',
  `CREATE_TIME` VARCHAR(20) NOT NULL COMMENT '创建时间',
  `UPDATE_USER` BIGINT DEFAULT NULL COMMENT '更新用户',
  `UPDATE_TIME` VARCHAR(20) DEFAULT NULL COMMENT '更新时间',
  PRIMARY KEY (`ID`) USING BTREE,
  INDEX DICT_PID_INDEX (PID),
  INDEX DICT_KEY_TYPE_ENABLED_INDEX (DICT_KEY, DICT_TYPE, ENABLED)
) ENGINE=InnoDB ROW_FORMAT=DYNAMIC COMMENT='字典表';

/*Data for the table `dict` */
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (1, NULL, '系统参数', 1, NULL, NULL, 1, NULL, 1, 0, 1, 1, '2021-06-10 00:02:58', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4045371267556048896, NULL, '是否启用配置', 1, NULL, NULL, 2, NULL, 1, 0, 1, 2, '2025-11-01 02:21:09', 2, '2025-11-04 01:13:03');
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4045371493033443328, 4045371267556048896, '启用', 2, 'ENABLED_CONFIG', 'true', 1, NULL, 1, 0, 1, 2, '2025-11-01 02:22:03', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4045371573421473792, 4045371267556048896, '禁用', 2, 'ENABLED_CONFIG', 'false', 2, NULL, 1, 0, 1, 2, '2025-11-01 02:22:22', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4045372812972523520, 1, '网站名称', 2, 'WEBSITE_NAME', '磨刀霍霍', 1, NULL, 1, 0, 1, 2, '2025-11-01 02:27:18', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046437630827560960, NULL, '请求方式配置', 1, NULL, NULL, 3, NULL, 1, 0, 1, 2, '2025-11-04 00:58:30', 2, '2025-11-04 01:13:11');
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046437925066375168, 4046437630827560960, 'GET', 2, 'REQUEST_METHOD_CONFIG', 'GET', 1, NULL, 1, 0, 1, 2, '2025-11-04 00:59:40', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046438079823609856, 4046437630827560960, 'POST', 2, 'REQUEST_METHOD_CONFIG', 'POST', 2, NULL, 1, 0, 1, 2, '2025-11-04 01:00:17', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046438134177595392, 4046437630827560960, 'PUT', 2, 'REQUEST_METHOD_CONFIG', 'PUT', 3, NULL, 1, 0, 1, 2, '2025-11-04 01:00:30', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046438194646876160, 4046437630827560960, 'DELETE', 2, 'REQUEST_METHOD_CONFIG', 'DELETE', 4, NULL, 1, 0, 1, 2, '2025-11-04 01:00:44', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046441391092400128, NULL, '接口级别配置', 1, NULL, NULL, 4, NULL, 1, 0, 1, 2, '2025-11-04 01:13:26', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046441431336747008, NULL, '接口状态配置', 1, NULL, NULL, 5, NULL, 1, 0, 1, 2, '2025-11-04 01:13:36', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046441524848754688, 4046441391092400128, '公共访问', 2, 'INTERFACE_LEVEL_CONFIG', '1', 1, NULL, 1, 0, 1, 2, '2025-11-04 01:13:58', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046441587020922880, 4046441391092400128, '登录访问', 2, 'INTERFACE_LEVEL_CONFIG', '2', 2, NULL, 1, 0, 1, 2, '2025-11-04 01:14:13', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046441681745084416, 4046441391092400128, '授权访问', 2, 'INTERFACE_LEVEL_CONFIG', '4', 3, NULL, 1, 0, 1, 2, '2025-11-04 01:14:36', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046441761592049664, 4046441391092400128, '禁止访问', 2, 'INTERFACE_LEVEL_CONFIG', '8', 4, NULL, 1, 0, 1, 2, '2025-11-04 01:14:55', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046442173594337280, 4046441431336747008, '禁用', 2, 'INTERFACE_STATUS_CONFIG', '0', 1, NULL, 1, 0, 1, 2, '2025-11-04 01:16:33', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046442233367363584, 4046441431336747008, '启用', 2, 'INTERFACE_STATUS_CONFIG', '1', 2, NULL, 1, 0, 1, 2, '2025-11-04 01:16:47', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4046442386560122880, 4046441431336747008, '默认', 2, 'INTERFACE_STATUS_CONFIG', '2', 3, NULL, 1, 0, 1, 2, '2025-11-04 01:17:24', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4047171248428417024, NULL, '请求结果配置', 1, NULL, NULL, 6, '接口日志，操作日志管理使用', 1, 0, 1, 2, '2025-11-06 01:33:38', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4047171349418868736, 4047171248428417024, '成功', 2, 'LOG_EXEC_RESULT_CONFIG', 'true', 1, NULL, 1, 0, 1, 2, '2025-11-06 01:34:02', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4047171446324068352, 4047171248428417024, '失败', 2, 'LOG_EXEC_RESULT_CONFIG', 'false', 2, NULL, 1, 0, 1, 2, '2025-11-06 01:34:25', NULL, NULL);
INSERT INTO `zblog`.`dict` (`ID`, `PID`, `DICT_NAME`, `DICT_TYPE`, `DICT_KEY`, `DICT_VALUE`, `DICT_SORT`, `DICT_DESC`, `ENABLED`, `DELETED`, `VERSION`, `CREATE_USER`, `CREATE_TIME`, `UPDATE_USER`, `UPDATE_TIME`) VALUES (4048619314918457344, 1, '接口指标统计局域网过滤开关', 2, 'INTERFACE_METRICS_FILTER_LOCAL', '0', 2, '接口指标统计是否过滤局域网，0代表不过滤，1代表过滤', 1, 0, 1, 2, '2025-11-10 01:27:44', NULL, NULL);

/*Table structure for table `user_role_relation` */
DROP TABLE IF EXISTS `user_role_relation`;
CREATE TABLE `user_role_relation` (
  `USER_ID` BIGINT NOT NULL COMMENT '用户编号',
  `ROLE_ID` BIGINT NOT NULL COMMENT '角色编号',
  UNIQUE KEY `USER_ROLE_UNI_INDEX` (`USER_ID`, `ROLE_ID`)
) ENGINE=INNODB ROW_FORMAT=DYNAMIC COMMENT='用户角色关联表';

/*Data for the table `user_role_relation` */

/*Table structure for table `role_permission_relation` */
DROP TABLE IF EXISTS `role_permission_relation`;
CREATE TABLE `role_permission_relation` (
  `ROLE_ID` BIGINT NOT NULL COMMENT '角色编号',
  `PERM_ID` BIGINT NOT NULL COMMENT '权限编号',
  UNIQUE KEY `ROLE_PERM_UNI_INDEX` (`ROLE_ID`, `PERM_ID`)
) ENGINE=INNODB ROW_FORMAT=DYNAMIC COMMENT='角色权限关联表';

/*Data for the table `role_permission_relation` */

/*Table structure for table `user_login_log` */
DROP TABLE IF EXISTS `user_login_log`;
CREATE TABLE `user_login_log` (
  `ID` BIGINT UNSIGNED NOT NULL,
  `USER_ID` BIGINT NOT NULL COMMENT '用户ID',
  `LOGIN_TIME` CHAR(19) NOT NULL COMMENT '登录时间, 格式为: yyyy-MM-dd HH:mm:ss',
  `LOGIN_CHAN` CHAR(2) NOT NULL COMMENT '登录渠道, 01:移动端; 02:PC端',
  `LOGIN_TYPE` CHAR(2) NOT NULL COMMENT '登录类型, 00:访客登录; 01:密码登录; 02:QQ登录; 99:未知',
  `LOGIN_IP` VARCHAR(15) NOT NULL COMMENT '登录IP',
  `LOGIN_ADDRESS` VARCHAR(255) NOT NULL COMMENT '登录地址',
  `USER_AGENT` VARCHAR(255) COMMENT '用户代理（浏览器和操作系统信息）',
  `IS_SUCCESS` TINYINT(1) NOT NULL COMMENT '登录是否成功',
  `REMARK` VARCHAR(255) COMMENT '备注',
  `CREATE_DATE` CHAR(10) NOT NULL COMMENT '创建日期',
  `CREATE_TIME` CHAR(19) NOT NULL COMMENT '创建时间',
  PRIMARY KEY (`ID`) USING BTREE,
  INDEX ULL_USER_ID_INDEX (`USER_ID`),
  INDEX ULL_CREATE_DATE_INDEX (`CREATE_DATE`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='用户登录日志';

/*Table structure for table `log` */
DROP TABLE IF EXISTS `log`;
CREATE TABLE `log` (
  `ID` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '日志编号',
  `LOG_TYPE` TINYINT(1) NOT NULL COMMENT '日志类型',
  `OPERATE_USER` VARCHAR(50) NOT NULL COMMENT '操作用户',
  `EVENT_TIME` DATETIME(3) NOT NULL COMMENT '事件发生时间（精确到毫秒）',
  `DESCRIPTION` VARCHAR(50) NOT NULL COMMENT '操作描述',
  `REQUEST_PARAM` TEXT DEFAULT NULL COMMENT '操作参数',
  `INTERFACE_CODE` VARCHAR(100) NOT NULL COMMENT '接口编码',
  `REQUEST_IP` VARCHAR(50) DEFAULT NULL COMMENT '请求IP',
  `REQUEST_URI` VARCHAR(200) DEFAULT NULL COMMENT '请求URI',
  `REQUEST_METHOD` VARCHAR(50) DEFAULT NULL COMMENT '请求Method',
  `ADDRESS` VARCHAR(200) DEFAULT NULL COMMENT '请求地址',
  `BROWSER` VARCHAR(500) DEFAULT NULL COMMENT '浏览器',
  `COST_TIME` INT(11) DEFAULT NULL COMMENT '请求耗时',
  `EXEC_RESULT` TINYINT(1) NOT NULL COMMENT '执行结果：0-失败；1-成功',
  `EXEC_MESSAGE` TEXT DEFAULT NULL COMMENT '执行信息',
  `EXCEPTION_DETAIL` TEXT DEFAULT NULL COMMENT '异常信息',
  `CREATE_DATE` DATE NOT NULL DEFAULT (CURRENT_DATE) COMMENT '创建日期（按天统计）',
  PRIMARY KEY (`ID`, `CREATE_DATE`) USING BTREE,
  -- 核心组合索引，优化统计查询
  INDEX idx_log_interface_date (`INTERFACE_CODE`, `CREATE_DATE`),
  INDEX idx_log_interface_event_time (`INTERFACE_CODE`, `EVENT_TIME`),
  INDEX idx_log_interface_exec_result (`INTERFACE_CODE`, `EXEC_RESULT`),
  -- 可选单列索引
  INDEX LOG_TYPE_INDEX (`LOG_TYPE`),
  INDEX LOG_OPERATE_USER_INDEX (`OPERATE_USER`)
) ENGINE=InnoDB ROW_FORMAT=DYNAMIC COMMENT='高性能优化日志表（支持接口统计与QPS分析）'
PARTITION BY RANGE (TO_DAYS(CREATE_DATE)) (
  PARTITION p202511 VALUES LESS THAN (TO_DAYS('2025-12-01')),
  PARTITION p202512 VALUES LESS THAN (TO_DAYS('2026-01-01')),
  PARTITION p202601 VALUES LESS THAN (TO_DAYS('2026-02-01')),
  PARTITION p202602 VALUES LESS THAN (TO_DAYS('2026-03-01')),
  PARTITION p202603 VALUES LESS THAN (TO_DAYS('2026-04-01')),
  PARTITION p202604 VALUES LESS THAN (TO_DAYS('2026-05-01')),
  PARTITION p202605 VALUES LESS THAN (TO_DAYS('2026-06-01')),
  -- 每月一个分区
  PARTITION `default` VALUES LESS THAN MAXVALUE
);

-- >>>>>>>>>>> 后续维护 >>>>>>>>>>>
-- 数据归档
-- INSERT INTO log_archive SELECT * FROM log PARTITION(p202510);
-- ALTER TABLE log DROP PARTITION p202510;
-- 新建一个分区，例如 2025-12-01 到 2025-12-31
-- ALTER TABLE log ADD PARTITION (
  -- PARTITION p202512 VALUES LESS THAN (TO_DAYS('2026-07-01'))
-- );

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
